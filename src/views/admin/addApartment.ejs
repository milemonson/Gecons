<!DOCTYPE html>
<html lang="es">

    <%- include("../partials/head", { title : "Dashboard - Añadir departamento" }) %>

<body>
    
    <div class="container">

        <%- include("../partials/tabs", { active : 2 }) %>
        
        <h2>Añadiendo departamento a: <%= building.name %></h2>

        <form action="/admin/apartments/add" method="POST">

            <!-- Nombre -->
            <div class="form-group">
                <label for="name">Nombre del departamento:</label>
                <input type="text" class="form-control" id="name" aria-describedby="nameHelp">
                <small id="nameHelp" class="form-text text-muted">
                    Máx 191 caracteres, campo obligatório.
                    <% if(locals.errors && errors.name) { %>
                        <span class="alert-danger"><%= errors.name.msg %></span>
                    <% } %>
                </small>
            </div>

            <!-- Descripción -->
            <div class="form-group">
                <label for="description">Descripción:</label>
                <textarea class="form-control" id="description" rows="3" aria-describedby="descHelp"></textarea>
                <small id="nameHelp" class="form-text text-muted">
                    Campo opcional. Máximo 500 caracteres.
                    <% if(locals.errors && errors.description) { %>
                        <span class="alert-danger"><%= errors.description.msg %></span>
                    <% } %>
                </small>
            </div>

            <!-- Fechas de inicio y fin -->
            <div class="form-row justify-content-around">
                <div class="form-group">
                    <label for="init-date">Fecha de inicio:</label>
                    <input class="form-control" type="date" id="init-date" aria-describedby="initHelp">
                    <small id="initHelp" class="form-text text-muted">
                        <% if(locals.errors && errors.init) { %>
                            <span class="alert-danger"><%= errors.init.msg %></span>
                        <% } %>
                    </small>
                </div>
                <div class="form-group">
                    <label for="end-date">Fecha de finalización:</label>
                    <input class="form-control" type="date" id="end-date" aria-describedby="endHelp">
                    <small id="endHelp" class="form-text text-muted">
                        <% if(locals.errors && errors.end) { %>
                            <span class="alert-danger"><%= errors.end.msg %></span>
                        <% } %>
                    </small>
                </div>
            </div>

            <!-- Monto -->
            <label for="price">Monto:</label>
            <div class="form-row input-group mb-3">
                <input type="text" class="form-control" id="price" aria-label="Monto" aria-describedby="priceHelp">
                <div class="input-group-append">
                    <span class="input-group-text">$</span>
                    <span class="input-group-text">0.00</span>
                </div>
            </div>
            <small id="priceHelp" class="form-text text-muted">
                <% if(locals.errors && errors.price) { %>
                    <span class="alert-danger"><%= errors.price.msg %></span>
                <% } %>
            </small>

            <!-- Subida de documentos -->
            <div class="form-row input-group mt-3 mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text">Subir</span>
                </div>
                <div class="custom-file">
                  <input type="file" class="custom-file-input" id="doc" aria-describedby="docHelp">
                  <label class="custom-file-label" for="doc">Elegir archivo</label>
                </div>
            </div>
            <small id="docHelp" class="form-text text-muted">
                Sólo documentos de texto.
                <% if(locals.errors && errors.doc) { %>
                    <span class="alert-danger"><%= errors.doc.msg %></span>
                <% } %>
            </small>

            <input type="hidden" name="buildingName" value="<%= building.name %>">
            <input type="hidden" name="buildingId" value="<%= building.id %>">

            <!-- Botones -->
            <div class="form-row justify-content-around">
                <button class="btn btn-primary" type="submit">Enviar</button>
                <button class="btn btn-primary" type="reset">Resetear</button>
            </div>

        </form>

    </div>

</body>
</html>